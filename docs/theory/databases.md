# **1. Теория - Проектирование и реализация базы данных информационной системы**

## **1.1. Роль базы данных в архитектуре информационной системы**

База данных является **ключевым компонентом информационной системы**, обеспечивающим:

* централизованное хранение данных;
* целостность и непротиворечивость информации;
* поддержку бизнес-процессов;
* многопользовательский доступ;
* возможность масштабирования и сопровождения системы.

В рассматриваемом проекте база данных служит **единым источником достоверных данных** для клиентской и серверной частей приложения.

---

## **1.2. Выбор реляционной модели данных**

### **1.2.1. Причины выбора реляционной модели**

В проекте используется **реляционная модель данных**, так как:

* предметная область чётко описывается сущностями и связями;
* данные имеют строгую структуру;
* требуется поддержка ссылочной целостности;
* используются операции выборки, соединения и фильтрации.

Реляционная модель обеспечивает логическую строгость и хорошо подходит для учебных и прикладных ИС.

---

### **1.2.2. Выбор СУБД MySQL**

В качестве СУБД выбрана **MySQL**, поскольку она:

* поддерживает стандарт SQL;
* широко используется в веб-разработке;
* интегрируется с Python (PyMySQL);
* входит в состав XAMPP;
* удобна для администрирования через phpMyAdmin.

---

## **1.3. Использование phpMyAdmin**

**phpMyAdmin** применяется как инструмент администрирования и анализа базы данных.

С его помощью выполняются:

* создание и изменение таблиц;
* выполнение SQL-скриптов;
* просмотр структуры таблиц;
* анализ связей;
* проверка данных после выполнения операций;
* визуальный контроль нормализации.

phpMyAdmin используется **на этапе разработки и сопровождения**, но не участвует в работе конечного приложения.

---

## **1.4. Этапы проектирования базы данных**

Проектирование базы данных выполняется в **три этапа**, соответствующих классической методологии.

---

### **1.4.1. Концептуальный уровень (ER-модель)**

На концептуальном уровне определяется **предметная область**, выделяются основные сущности и связи между ними **без привязки к СУБД**.

#### **Основные сущности системы:**

1. Пользователь
2. Роль
3. Заявка
4. Статус заявки
5. Способ оплаты
6. Курс
7. Отзыв

#### **Основные связи:**

* один пользователь имеет одну роль;
* пользователь может создать несколько заявок;
* каждая заявка относится к одному курсу;
* каждая заявка имеет один статус;
* каждая заявка использует один способ оплаты;
* пользователь может оставить несколько отзывов.

ER-диаграмма на этом уровне отражает **логику предметной области**, а не реализацию.

---

### **1.4.2. Логический уровень (реляционная модель)**

На логическом уровне сущности преобразуются в таблицы, а связи — во внешние ключи.

Каждая сущность представляется отдельной таблицей:

* `users`
* `roles`
* `applications`
* `application_statuses`
* `payment_methods`
* `courses`
* `reviews`

Связи реализуются через **внешние ключи**, что обеспечивает целостность данных.

---

### **1.4.3. Физический уровень (реализация в MySQL)**

На физическом уровне определяются:

* типы данных (`INT`, `VARCHAR`, `DATE`, `TEXT`);
* первичные ключи;
* внешние ключи;
* ограничения (`NOT NULL`, `UNIQUE`);
* индексы.

Этот уровень полностью зависит от выбранной СУБД (MySQL).

---

## **1.5. Первичные и внешние ключи**

### **1.5.1. Первичные ключи**

Во всех таблицах используется суррогатный первичный ключ:

```sql
id INT AUTO_INCREMENT PRIMARY KEY
```

Преимущества:

* гарантированная уникальность;
* простота ссылок;
* независимость от бизнес-данных;
* высокая производительность JOIN-операций.

---

### **1.5.2. Внешние ключи**

Примеры связей:

* `users.role_id → roles.id`
* `applications.user_id → users.id`
* `applications.status_id → application_statuses.id`
* `applications.payment_method_id → payment_methods.id`
* `reviews.user_id → users.id`
* `applications.course_id → courses.id`

Внешние ключи предотвращают:

* появление «осиротевших» записей;
* логические ошибки в данных;
* нарушение связей между сущностями.

---

## **1.6. Нормализация базы данных**

### **1.6.1. Назначение нормализации**

Нормализация направлена на:

* устранение дублирования данных;
* предотвращение аномалий обновления;
* повышение логической чистоты структуры;
* упрощение сопровождения БД.

---

### **1.6.2. Первая нормальная форма (1НФ)**

Требования 1НФ:

* все поля атомарны;
* нет повторяющихся групп;
* каждая запись уникальна.

**В проекте:**

* каждое поле содержит одно значение;
* отсутствуют списки или массивы;
* все таблицы имеют первичный ключ.

---

### **1.6.3. Вторая нормальная форма (2НФ)**

Требования 2НФ:

* соблюдение 1НФ;
* отсутствие частичных зависимостей от ключа.

**В проекте:**

* используются одиночные первичные ключи;
* все неключевые атрибуты зависят от полного ключа.

---

### **1.6.4. Третья нормальная форма (3НФ)**

Требования 3НФ:

* соблюдение 2НФ;
* отсутствие транзитивных зависимостей.

**Реализация в проекте:**

* роли вынесены в отдельную таблицу;
* статусы заявок вынесены в справочник;
* способы оплаты вынесены в справочник;
* курсы вынесены в отдельный справочник;
* таблицы заявок содержат только ссылки на справочники.

Это исключает дублирование строковых значений и упрощает изменение данных.

---

## **1.7. Справочники как элемент корректной БД**

Справочники используются для:

* фиксированных наборов значений;
* обеспечения единообразия данных;
* реализации бизнес-правил;
* поддержки 3НФ.

### **Примеры справочников:**

* `roles`
* `application_statuses`
* `payment_methods`
* `courses`

Изменение справочника **не требует изменения основной таблицы заявок**.

---

## **1.8. SQL-скрипты и миграции**

### **1.8.1. Начальная схема БД**

Основной SQL-файл содержит:

* создание таблиц;
* определение ключей;
* первичную структуру БД.

Используется для развёртывания системы.

---

### **1.8.2. Миграции схемы**

Отдельные SQL-файлы используются для:

* исправления ошибок проектирования;
* усиления ограничений (`NOT NULL`, `UNIQUE`);
* доработки структуры без пересоздания БД.

Это демонстрирует **эволюцию схемы базы данных**, что является важным практическим аспектом.

---

## **1.9. Работа серверной части с БД**

Серверное приложение:

* использует параметризованные SQL-запросы;
* выполняет сложные JOIN-запросы;
* обеспечивает согласованность данных;
* проверяет корректность входных данных;
* реализует CRUD-операции.

База данных и сервер образуют **единый слой данных**.

---

## **1.10. Обеспечение целостности данных**

Целостность данных обеспечивается:

* первичными ключами;
* внешними ключами;
* ограничениями `NOT NULL`;
* уникальными индексами;
* серверной валидацией данных.

Это предотвращает логические ошибки и повреждение данных.

---

## **1.11. Итоговая оценка проектирования БД**

База данных проекта:

* построена по реляционной модели;
* приведена к третьей нормальной форме;
* использует справочники;
* поддерживает масштабируемость;
* соответствует требованиям учебной ИС.

Проектирование БД выполнено **корректно с методической точки зрения** и отражает реальные подходы, применяемые в профессиональной разработке.

 